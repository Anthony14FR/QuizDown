{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mx-auto p-4 max-w-3xl">
        <div class="card bg-base-100 shadow-xl mb-6">
            <div class="card-body">
                <h1 class="card-title text-2xl">{{ quiz.title }}</h1>
                <p>{{ quiz.description }}</p>
            </div>
        </div>

        <form method="POST" action="{{ path('app_quiz_submit', {id: quiz.id}) }}" class="space-y-6">
            {% for question in quiz.questions %}
                <div class="card bg-base-100 shadow-xl">
                    <div class="card-body">
                        <h2 class="card-title">Question {{ loop.index }}</h2>
                        <p class="mb-4">{{ question.content }}</p>

                        <div class="space-y-2">
                            {% if question.type == 'true_false' or question.type == 'single_choice' %}
                                {% for answer in question.answers %}
                                    <label class="flex items-center gap-2 p-2 hover:bg-base-200 rounded-lg cursor-pointer">
                                        <input type="radio"
                                               name="answers[{{ question.id }}]"
                                               value="{{ answer.id }}"
                                               class="radio"
                                               required>
                                        <span>{{ answer.content }}</span>
                                    </label>
                                {% endfor %}
                            {% else %}
                                {% for answer in question.answers %}
                                    <label class="flex items-center gap-2 p-2 hover:bg-base-200 rounded-lg cursor-pointer">
                                        <input type="checkbox"
                                               name="answers[{{ question.id }}][]"
                                               value="{{ answer.id }}"
                                               class="checkbox">
                                        <span>{{ answer.content }}</span>
                                    </label>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}

            <button type="submit" class="btn btn-primary w-full">Soumettre mes r√©ponses</button>
        </form>
    </div>
{% endblock %}
